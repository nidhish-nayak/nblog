---
import Posts from "../components/Posts.astro";
import BlogPost from "../layouts/BlogPost.astro";

const allPosts = await Astro.glob("../pages/posts/*.md");

function shuffleArray(array) {
	const shuffledArray = [...array];
	for (let i = shuffledArray.length - 1; i > 0; i--) {
		const j = Math.floor(Math.random() * (i + 1));
		[shuffledArray[i], shuffledArray[j]] = [shuffledArray[j], shuffledArray[i]];
	}
	return shuffledArray;
}

const shuffledPosts = shuffleArray(allPosts);

const indexTitle = "Blogs";
---

<BlogPost title={indexTitle}>
	<Posts allPosts={shuffledPosts} />
</BlogPost>
